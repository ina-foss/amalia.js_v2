<div *ngIf="displayMode!=='readonly'">
    <p-card>
        <ng-template pTemplate="header">
            <div class="card flex justify-content-center segment-title">
                <p-floatLabel>
                    <input pInputText id="title" [(ngModel)]="segment.label"/>
                    <label for="title">Titre du segment</label>
                </p-floatLabel>
            </div>
        </ng-template>

        <div class="segment-tc">
            <div class="flex flex-column gap-2">
                <label for="tcDebut">TC Début</label>
                <input pInputText id="tcDebut" [(ngModel)]="segment.tcIn"/>
            </div>
            <div class="flex flex-column gap-2">
                <label for="tcFin">TC Fin</label>
                <input pInputText id="tcFin" [(ngModel)]="segment.tcOut"/>
            </div>
            <div class="flex flex-column gap-2">
                <label for="tcDuree">TC Fin</label>
                <input pInputText id="tcDuree" [(ngModel)]="segment.tc"/>
            </div>
        </div>
        <div class="segment-categories">
            <p-floatLabel>
                <p-chips id="categories" [(ngModel)]="segment.categories"/>
                <label for="categories">Catégories</label>
            </p-floatLabel>
        </div>
        <div class="segment-description">
            <p-floatLabel>
                <textarea id="description" [(ngModel)]="segment.description" rows="5" cols="30" pInputTextarea
                          [autoResize]="true"></textarea>
                <label for="description">Description</label>
            </p-floatLabel>
        </div>
        <div class="segment-keywords">
            <p-floatLabel>
                <p-chips id="keywords" [(ngModel)]="segment.keywords"/>
                <label for="keywords">Mots-clés</label>
            </p-floatLabel>
        </div>
        <ng-template pTemplate="footer">
            <div class="new-segment-actions">
                <p-button id="btnannuler" label="Annuler" icon="pi pi-times" (click)="cancelNewSegmentCreation()"/>
                <p-button id="btnvalider" label="Valider" icon="pi pi-check" (click)="createNewSegment()"/>
            </div>
        </ng-template>

    </p-card>
</div>
<div *ngIf="displayMode==='readonly'">
    <div class="read-only-segment card">
        <p-card>
            <ng-template pTemplate="header">
                <div class="flex align-items-center gap-2">
                    <span class="font-bold">{{ segment.label }}</span>
                </div>
            </ng-template>
            <ng-template pTemplate="icons">
                <p-button class="p-panel-header-icon p-link mr-2" id="btnedit" icon="pi pi-pencil"
                          (click)="editSegment()"/>
                <p-button class="p-panel-header-icon p-link mr-2" id="btnclone" icon="pi pi-clone"
                          (click)="cloneSegment()"/>
                <p-button class="p-panel-header-icon p-link mr-2" id="btnremove" icon="pi pi-trash"
                          (click)="removeSegment()"/>
            </ng-template>

            <div class="m-0">
                <div class="readonly-segment-tc">
                    <div>Début: {{ segment.tcIn }}</div>
                    <div>Fin: {{ segment.tcOut }}</div>
                    <div>Durée: {{ segment.tc }}</div>
                </div>
                <div class="readonly-segment-categories">
                    <p-chips id="readonly_categories" [(ngModel)]="segment.categories"/>
                </div>
                <div class="readonly-segment-keywords">
                    <p-chips id="readonly_keywords" [(ngModel)]="segment.keywords"/>
                </div>
                <div class="readonly-segment-description">
                    <textarea id="readonly_description"
                              [(ngModel)]="segment.description" rows="5" cols="30"
                              pInputTextarea
                              [autoResize]="true" readonly></textarea></div>
            </div>
        </p-card>
    </div>
</div>
