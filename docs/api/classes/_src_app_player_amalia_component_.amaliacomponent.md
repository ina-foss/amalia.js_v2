[Amalia](../README.md) › [Globals](../globals.md) › ["src/app/player/amalia.component"](../modules/_src_app_player_amalia_component_.md) › [AmaliaComponent](_src_app_player_amalia_component_.amaliacomponent.md)

# Class: AmaliaComponent

## Hierarchy

* **AmaliaComponent**

## Implements

* OnInit

## Index

### Constructors

* [constructor](_src_app_player_amalia_component_.amaliacomponent.md#constructor)

### Properties

* [PlayerState](_src_app_player_amalia_component_.amaliacomponent.md#playerstate)
* [_config](_src_app_player_amalia_component_.amaliacomponent.md#private-_config)
* [aspectRatio](_src_app_player_amalia_component_.amaliacomponent.md#aspectratio)
* [autoplay](_src_app_player_amalia_component_.amaliacomponent.md#autoplay)
* [callback](_src_app_player_amalia_component_.amaliacomponent.md#callback)
* [chrono](_src_app_player_amalia_component_.amaliacomponent.md#chrono)
* [configLoader](_src_app_player_amalia_component_.amaliacomponent.md#configloader)
* [contextMenu](_src_app_player_amalia_component_.amaliacomponent.md#contextmenu)
* [contextMenuState](_src_app_player_amalia_component_.amaliacomponent.md#contextmenustate)
* [enablePreviewThumbnail](_src_app_player_amalia_component_.amaliacomponent.md#enablepreviewthumbnail)
* [enableThumbnail](_src_app_player_amalia_component_.amaliacomponent.md#private-enablethumbnail)
* [errorMessage](_src_app_player_amalia_component_.amaliacomponent.md#errormessage)
* [httpClient](_src_app_player_amalia_component_.amaliacomponent.md#private-httpclient)
* [inError](_src_app_player_amalia_component_.amaliacomponent.md#inerror)
* [inLoading](_src_app_player_amalia_component_.amaliacomponent.md#inloading)
* [intervalImages](_src_app_player_amalia_component_.amaliacomponent.md#intervalimages)
* [listKeys](_src_app_player_amalia_component_.amaliacomponent.md#listkeys)
* [logger](_src_app_player_amalia_component_.amaliacomponent.md#logger)
* [mediaContainer](_src_app_player_amalia_component_.amaliacomponent.md#mediacontainer)
* [mediaPlayer](_src_app_player_amalia_component_.amaliacomponent.md#mediaplayer)
* [mediaPlayerElement](_src_app_player_amalia_component_.amaliacomponent.md#mediaplayerelement)
* [metadataConverter](_src_app_player_amalia_component_.amaliacomponent.md#metadataconverter)
* [metadataLoader](_src_app_player_amalia_component_.amaliacomponent.md#metadataloader)
* [pinned](_src_app_player_amalia_component_.amaliacomponent.md#pinned)
* [pinnedControlbar](_src_app_player_amalia_component_.amaliacomponent.md#pinnedcontrolbar)
* [playerConfig](_src_app_player_amalia_component_.amaliacomponent.md#playerconfig)
* [playerHover](_src_app_player_amalia_component_.amaliacomponent.md#playerhover)
* [playerId](_src_app_player_amalia_component_.amaliacomponent.md#playerid)
* [playerService](_src_app_player_amalia_component_.amaliacomponent.md#playerservice)
* [previewThumbnailElement](_src_app_player_amalia_component_.amaliacomponent.md#previewthumbnailelement)
* [previewThumbnailUrl](_src_app_player_amalia_component_.amaliacomponent.md#previewthumbnailurl)
* [ratio](_src_app_player_amalia_component_.amaliacomponent.md#ratio)
* [sanitizer](_src_app_player_amalia_component_.amaliacomponent.md#private-sanitizer)
* [state](_src_app_player_amalia_component_.amaliacomponent.md#state)
* [tc](_src_app_player_amalia_component_.amaliacomponent.md#tc)
* [throttleFunc](_src_app_player_amalia_component_.amaliacomponent.md#throttlefunc)
* [thumbnailBlobVideo](_src_app_player_amalia_component_.amaliacomponent.md#thumbnailblobvideo)
* [thumbnailService](_src_app_player_amalia_component_.amaliacomponent.md#private-thumbnailservice)
* [version](_src_app_player_amalia_component_.amaliacomponent.md#version)
* [DEFAULT_THROTTLE_INVOCATION_TIME](_src_app_player_amalia_component_.amaliacomponent.md#static-default_throttle_invocation_time)

### Accessors

* [config](_src_app_player_amalia_component_.amaliacomponent.md#config)

### Methods

* [bindEvents](_src_app_player_amalia_component_.amaliacomponent.md#private-bindevents)
* [clearInterval](_src_app_player_amalia_component_.amaliacomponent.md#clearinterval)
* [displayControlBar](_src_app_player_amalia_component_.amaliacomponent.md#displaycontrolbar)
* [displayImages](_src_app_player_amalia_component_.amaliacomponent.md#displayimages)
* [emitKeyDownEvent](_src_app_player_amalia_component_.amaliacomponent.md#emitkeydownevent)
* [emitKeyUpEvent](_src_app_player_amalia_component_.amaliacomponent.md#emitkeyupevent)
* [focus](_src_app_player_amalia_component_.amaliacomponent.md#focus)
* [handleAspectRatioChange](_src_app_player_amalia_component_.amaliacomponent.md#private-handleaspectratiochange)
* [handleError](_src_app_player_amalia_component_.amaliacomponent.md#private-handleerror)
* [handleFullScreenChange](_src_app_player_amalia_component_.amaliacomponent.md#handlefullscreenchange)
* [handleLoading](_src_app_player_amalia_component_.amaliacomponent.md#handleloading)
* [handleLoadingEnd](_src_app_player_amalia_component_.amaliacomponent.md#handleloadingend)
* [handlePinnedControlbarChange](_src_app_player_amalia_component_.amaliacomponent.md#handlepinnedcontrolbarchange)
* [handlePinnedSliderChange](_src_app_player_amalia_component_.amaliacomponent.md#handlepinnedsliderchange)
* [handlePlay](_src_app_player_amalia_component_.amaliacomponent.md#private-handleplay)
* [handleSeeked](_src_app_player_amalia_component_.amaliacomponent.md#private-handleseeked)
* [handleSeeking](_src_app_player_amalia_component_.amaliacomponent.md#private-handleseeking)
* [handleWindowResize](_src_app_player_amalia_component_.amaliacomponent.md#private-handlewindowresize)
* [hideControls](_src_app_player_amalia_component_.amaliacomponent.md#hidecontrols)
* [hideControlsMenuOnClickDocument](_src_app_player_amalia_component_.amaliacomponent.md#hidecontrolsmenuonclickdocument)
* [initDefaultHandlers](_src_app_player_amalia_component_.amaliacomponent.md#private-initdefaulthandlers)
* [ngOnInit](_src_app_player_amalia_component_.amaliacomponent.md#ngoninit)
* [onContextMenu](_src_app_player_amalia_component_.amaliacomponent.md#oncontextmenu)
* [onErrorInitConfig](_src_app_player_amalia_component_.amaliacomponent.md#private-onerrorinitconfig)
* [onInitConfig](_src_app_player_amalia_component_.amaliacomponent.md#private-oninitconfig)
* [resetTimer](_src_app_player_amalia_component_.amaliacomponent.md#resettimer)
* [scrollPlaybackRateImages](_src_app_player_amalia_component_.amaliacomponent.md#scrollplaybackrateimages)
* [setPreviewThumbnail](_src_app_player_amalia_component_.amaliacomponent.md#private-setpreviewthumbnail)
* [startTimer](_src_app_player_amalia_component_.amaliacomponent.md#starttimer)
* [updatePlayerSizeWithAspectRatio](_src_app_player_amalia_component_.amaliacomponent.md#private-updateplayersizewithaspectratio)

## Constructors

###  constructor

\+ **new AmaliaComponent**(`playerService`: [MediaPlayerService](_src_app_service_media_player_service_.mediaplayerservice.md), `httpClient`: HttpClient, `thumbnailService`: [ThumbnailService](_src_app_service_thumbnail_service_.thumbnailservice.md), `sanitizer`: DomSanitizer): *[AmaliaComponent](_src_app_player_amalia_component_.amaliacomponent.md)*

Defined in src/app/player/amalia.component.ts:222

**Parameters:**

Name | Type |
------ | ------ |
`playerService` | [MediaPlayerService](_src_app_service_media_player_service_.mediaplayerservice.md) |
`httpClient` | HttpClient |
`thumbnailService` | [ThumbnailService](_src_app_service_thumbnail_service_.thumbnailservice.md) |
`sanitizer` | DomSanitizer |

**Returns:** *[AmaliaComponent](_src_app_player_amalia_component_.amaliacomponent.md)*

## Properties

###  PlayerState

• **PlayerState**: *[PlayerState](../enums/_src_app_core_constant_player_state_.playerstate.md)* = PlayerState

Defined in src/app/player/amalia.component.ts:60

player state 4by3

___

### `Private` _config

• **_config**: *any*

Defined in src/app/player/amalia.component.ts:101

___

###  aspectRatio

• **aspectRatio**: *any*

Defined in src/app/player/amalia.component.ts:50

Selected aspectRatio

___

###  autoplay

• **autoplay**: *boolean*

Defined in src/app/player/amalia.component.ts:90

Set player autoplay state

___

###  callback

• **callback**: *EventEmitter‹any›* = new EventEmitter<any>()

Defined in src/app/player/amalia.component.ts:146

Amalia events

___

###  chrono

• **chrono**: *any*

Defined in src/app/player/amalia.component.ts:38

___

###  configLoader

• **configLoader**: *[Loader](../interfaces/_src_app_core_loader_loader_.loader.md)‹[ConfigData](../interfaces/_src_app_core_config_model_config_data_.configdata.md)›*

Defined in src/app/player/amalia.component.ts:123

Config loader in charge to load config data

___

###  contextMenu

• **contextMenu**: *ElementRef‹HTMLElement›*

Defined in src/app/player/amalia.component.ts:158

Get context menu html element

___

###  contextMenuState

• **contextMenuState**: *boolean*

Defined in src/app/player/amalia.component.ts:55

True for shown context menu

___

###  enablePreviewThumbnail

• **enablePreviewThumbnail**: *boolean* = false

Defined in src/app/player/amalia.component.ts:70

In charge to show preview thumbnail

___

### `Private` enableThumbnail

• **enableThumbnail**: *boolean*

Defined in src/app/player/amalia.component.ts:95

Enable thumbnail

___

###  errorMessage

• **errorMessage**: *any*

Defined in src/app/player/amalia.component.ts:222

Message d'erreur

___

### `Private` httpClient

• **httpClient**: *HttpClient*

Defined in src/app/player/amalia.component.ts:196

In charge to load resource

___

###  inError

• **inError**: *boolean* = false

Defined in src/app/player/amalia.component.ts:171

true when error

___

###  inLoading

• **inLoading**: *boolean* = false

Defined in src/app/player/amalia.component.ts:166

true when player load content

___

###  intervalImages

• **intervalImages**: *any*

Defined in src/app/player/amalia.component.ts:46

Interval Images

___

###  listKeys

• **listKeys**: *any[]* = []

Defined in src/app/player/amalia.component.ts:212

List of pressed keys

___

###  logger

• **logger**: *[DefaultLogger](_src_app_core_logger_default_logger_.defaultlogger.md)‹›* = new DefaultLogger()

Defined in src/app/player/amalia.component.ts:176

Default loader

___

###  mediaContainer

• **mediaContainer**: *ElementRef‹HTMLElement›*

Defined in src/app/player/amalia.component.ts:201

mediaContainer element

___

###  mediaPlayer

• **mediaPlayer**: *ElementRef‹HTMLVideoElement›*

Defined in src/app/player/amalia.component.ts:152

get video html element

___

###  mediaPlayerElement

• **mediaPlayerElement**: *[MediaPlayerElement](_src_app_core_media_player_element_.mediaplayerelement.md)*

Defined in src/app/player/amalia.component.ts:207

Amalia player main manager

___

###  metadataConverter

• **metadataConverter**: *[Converter](../interfaces/_src_app_core_converter_converter_.converter.md)‹Metadata›*

Defined in src/app/player/amalia.component.ts:134

Metadata converter, converter metadata parameter

___

###  metadataLoader

• **metadataLoader**: *[Loader](../interfaces/_src_app_core_loader_loader_.loader.md)‹Array‹Metadata››*

Defined in src/app/player/amalia.component.ts:140

Metadata loader

___

###  pinned

• **pinned**: *boolean* = false

Defined in src/app/player/amalia.component.ts:188

Pinned ControlBar state

___

###  pinnedControlbar

• **pinnedControlbar**: *boolean* = false

Defined in src/app/player/amalia.component.ts:192

Pinned Slider state

___

###  playerConfig

• **playerConfig**: *[ConfigData](../interfaces/_src_app_core_config_model_config_data_.configdata.md)*

Defined in src/app/player/amalia.component.ts:65

Player configuration

___

###  playerHover

• **playerHover**: *boolean* = false

Defined in src/app/player/amalia.component.ts:99

true when the mouse in over the player

___

###  playerId

• **playerId**: *string* = BaseUtils.getUniqueId()

Defined in src/app/player/amalia.component.ts:80

Generate player base id

___

###  playerService

• **playerService**: *[MediaPlayerService](_src_app_service_media_player_service_.mediaplayerservice.md)*

Defined in src/app/player/amalia.component.ts:184

In charge to get instance of player

___

###  previewThumbnailElement

• **previewThumbnailElement**: *ElementRef‹HTMLVideoElement›*

Defined in src/app/player/amalia.component.ts:85

Preview thumbnail container

___

###  previewThumbnailUrl

• **previewThumbnailUrl**: *string* = ""

Defined in src/app/player/amalia.component.ts:74

preview thumbnail url

___

###  ratio

• **ratio**: *string* = "16-9"

Defined in src/app/player/amalia.component.ts:180

default aspect ratio

___

### `Private` sanitizer

• **sanitizer**: *DomSanitizer*

Defined in src/app/player/amalia.component.ts:129

___

###  state

• **state**: *[PlayerState](../enums/_src_app_core_constant_player_state_.playerstate.md)*

Defined in src/app/player/amalia.component.ts:42

player state

___

###  tc

• **tc**: *number* = 0

Defined in src/app/player/amalia.component.ts:162

tc

___

###  throttleFunc

• **throttleFunc**: *any*

Defined in src/app/player/amalia.component.ts:218

___

###  thumbnailBlobVideo

• **thumbnailBlobVideo**: *any*

Defined in src/app/player/amalia.component.ts:216

thumbnail blob preview on seeking

___

### `Private` thumbnailService

• **thumbnailService**: *[ThumbnailService](_src_app_service_thumbnail_service_.thumbnailservice.md)*

Defined in src/app/player/amalia.component.ts:127

Thumbnail service

___

###  version

• **version**: *string* = environment.VERSION

Defined in src/app/player/amalia.component.ts:37

version of player

___

### `Static` DEFAULT_THROTTLE_INVOCATION_TIME

▪ **DEFAULT_THROTTLE_INVOCATION_TIME**: *number* = 150

Defined in src/app/player/amalia.component.ts:33

## Accessors

###  config

• **get config**(): *any*

Defined in src/app/player/amalia.component.ts:103

**Returns:** *any*

• **set config**(`value`: any): *void*

Defined in src/app/player/amalia.component.ts:108

**Parameters:**

Name | Type |
------ | ------ |
`value` | any |

**Returns:** *void*

## Methods

### `Private` bindEvents

▸ **bindEvents**(): *void*

Defined in src/app/player/amalia.component.ts:334

In charge to bin events

**Returns:** *void*

___

###  clearInterval

▸ **clearInterval**(): *void*

Defined in src/app/player/amalia.component.ts:586

**Returns:** *void*

___

###  displayControlBar

▸ **displayControlBar**(`_displayControlBar`: boolean): *void*

Defined in src/app/player/amalia.component.ts:492

Invoked on mouseenter and mouseleave events

**Parameters:**

Name | Type |
------ | ------ |
`_displayControlBar` | boolean |

**Returns:** *void*

___

###  displayImages

▸ **displayImages**(`framesPerSecond`: any, `ms`: any, `rewinding`: any, `duration`: any, `mainSource`: any): *void*

Defined in src/app/player/amalia.component.ts:598

**Parameters:**

Name | Type |
------ | ------ |
`framesPerSecond` | any |
`ms` | any |
`rewinding` | any |
`duration` | any |
`mainSource` | any |

**Returns:** *void*

___

###  emitKeyDownEvent

▸ **emitKeyDownEvent**(`$event`: any): *void*

Defined in src/app/player/amalia.component.ts:517

invoked on keydown

**Parameters:**

Name | Type |
------ | ------ |
`$event` | any |

**Returns:** *void*

___

###  emitKeyUpEvent

▸ **emitKeyUpEvent**(): *void*

Defined in src/app/player/amalia.component.ts:541

**Returns:** *void*

___

###  focus

▸ **focus**(): *void*

Defined in src/app/player/amalia.component.ts:484

focus mediaPlayer container

**Returns:** *void*

___

### `Private` handleAspectRatioChange

▸ **handleAspectRatioChange**(`event`: any): *void*

Defined in src/app/player/amalia.component.ts:411

Invoked on aspect ratio change

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`event` | any | aspect ratio  |

**Returns:** *void*

___

### `Private` handleError

▸ **handleError**(`event`: any): *void*

Defined in src/app/player/amalia.component.ts:400

Invoked when error event

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`event` | any | error type  |

**Returns:** *void*

___

###  handleFullScreenChange

▸ **handleFullScreenChange**(): *void*

Defined in src/app/player/amalia.component.ts:504

Invoked on fullscreen change

**Returns:** *void*

___

###  handleLoading

▸ **handleLoading**(): *void*

Defined in src/app/player/amalia.component.ts:353

**Returns:** *void*

___

###  handleLoadingEnd

▸ **handleLoadingEnd**(): *void*

Defined in src/app/player/amalia.component.ts:357

**Returns:** *void*

___

###  handlePinnedControlbarChange

▸ **handlePinnedControlbarChange**(`event`: any): *void*

Defined in src/app/player/amalia.component.ts:361

**Parameters:**

Name | Type |
------ | ------ |
`event` | any |

**Returns:** *void*

___

###  handlePinnedSliderChange

▸ **handlePinnedSliderChange**(`event`: any): *void*

Defined in src/app/player/amalia.component.ts:366

**Parameters:**

Name | Type |
------ | ------ |
`event` | any |

**Returns:** *void*

___

### `Private` handlePlay

▸ **handlePlay**(): *void*

Defined in src/app/player/amalia.component.ts:389

**Returns:** *void*

___

### `Private` handleSeeked

▸ **handleSeeked**(): *void*

Defined in src/app/player/amalia.component.ts:380

**Returns:** *void*

___

### `Private` handleSeeking

▸ **handleSeeking**(`tc`: number): *void*

Defined in src/app/player/amalia.component.ts:371

**Parameters:**

Name | Type |
------ | ------ |
`tc` | number |

**Returns:** *void*

___

### `Private` handleWindowResize

▸ **handleWindowResize**(): *void*

Defined in src/app/player/amalia.component.ts:266

update mediaPlayerWidth on window resize

**Returns:** *void*

___

###  hideControls

▸ **hideControls**(): *void*

Defined in src/app/player/amalia.component.ts:561

**Returns:** *void*

___

###  hideControlsMenuOnClickDocument

▸ **hideControlsMenuOnClickDocument**(`$event`: any): *void*

Defined in src/app/player/amalia.component.ts:546

**Parameters:**

Name | Type |
------ | ------ |
`$event` | any |

**Returns:** *void*

___

### `Private` initDefaultHandlers

▸ **initDefaultHandlers**(): *void*

Defined in src/app/player/amalia.component.ts:420

In charge to init default handlers when input not specified

**Returns:** *void*

___

###  ngOnInit

▸ **ngOnInit**(): *void*

Defined in src/app/player/amalia.component.ts:235

Invoked immediately after the  first time the component has initialised

**Returns:** *void*

___

###  onContextMenu

▸ **onContextMenu**(`event`: MouseEvent): *boolean*

Defined in src/app/player/amalia.component.ts:280

Invoked on click context menu

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`event` | MouseEvent | mouse event |

**Returns:** *boolean*

return false for disable browser context menu

___

### `Private` onErrorInitConfig

▸ **onErrorInitConfig**(`state`: [PlayerState](../enums/_src_app_core_constant_player_state_.playerstate.md)): *void*

Defined in src/app/player/amalia.component.ts:474

Invoked on error to init config

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`state` | [PlayerState](../enums/_src_app_core_constant_player_state_.playerstate.md) | player init state  |

**Returns:** *void*

___

### `Private` onInitConfig

▸ **onInitConfig**(`state`: [PlayerState](../enums/_src_app_core_constant_player_state_.playerstate.md)): *void*

Defined in src/app/player/amalia.component.ts:460

Invoked on  init config

**Parameters:**

Name | Type | Description |
------ | ------ | ------ |
`state` | [PlayerState](../enums/_src_app_core_constant_player_state_.playerstate.md) | player init state  |

**Returns:** *void*

___

###  resetTimer

▸ **resetTimer**(): *void*

Defined in src/app/player/amalia.component.ts:554

**Returns:** *void*

___

###  scrollPlaybackRateImages

▸ **scrollPlaybackRateImages**(`$event`: any): *void*

Defined in src/app/player/amalia.component.ts:566

**Parameters:**

Name | Type |
------ | ------ |
`$event` | any |

**Returns:** *void*

___

### `Private` setPreviewThumbnail

▸ **setPreviewThumbnail**(`tc`: number): *void*

Defined in src/app/player/amalia.component.ts:443

In charge to update thumbnail

**Parameters:**

Name | Type |
------ | ------ |
`tc` | number |

**Returns:** *void*

___

###  startTimer

▸ **startTimer**(): *void*

Defined in src/app/player/amalia.component.ts:550

**Returns:** *void*

___

### `Private` updatePlayerSizeWithAspectRatio

▸ **updatePlayerSizeWithAspectRatio**(): *void*

Defined in src/app/player/amalia.component.ts:292

In charge to update player size with aspect ratio

**Returns:** *void*
